---
description: デバッガーを使って、コードのステップ実行とトラブルシューティングを行います。
title: デバッガー-DevTools (EdgeHTML)
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 07/16/2020
ms.topic: article
ms.prod: microsoft-edge
keywords: microsoft edge、web 開発、f12 ツール、devtools、デバッガー、デバッグ、ブレークポイント、ウォッチ、サービスワーカー、キャッシュ api、web ストレージ、cookie
ms.custom: seodec18
ms.openlocfilehash: 722277618cd8d6d5d6dba4f2a8bd3a28b6466f77
ms.sourcegitcommit: a06c86ef7c69e1e400a0be5938449f3c4ba6ec72
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/16/2020
ms.locfileid: "10882920"
---
# デバッガー-DevTools (EdgeHTML)

**デバッガー**を使ってコードをステップ実行し、ウォッチポイントとブレークポイントを設定して、コードをリアルタイムで編集してキャッシュを検査します。 次の方法でコードのテストとトラブルシューティングを行います。

- 読み込んだソースファイルからコードを[参照](#resource-picker)して[検索](#file-search)する
- コードのステップ[実行時に実行フローを制御](#toolbar)する
- [サービスワーカーとキャッシュ](./service-workers.md)、 [cookie](./storage.md#cookies-list) 、 [web ストレージ](./storage.md#local-and-session-storage-managers)などの[ページストレージリソースを管理する](./storage.md#cache-manager)  
- [ブレークポイントを設定し](#debug-window)、実行時にコードをライブ編集する
- デバッグ時に[ローカル変数を管理および編集](#watches)する
- 必要に応じて、呼び出し元からの[非同期コードおよびライブラリコードの表示と非表示を切り替える](#call-stack)
- XmlHttpRequests、イベント、 [DOM mutations](#dom-breakpoints)に[特殊なブレークポイントを追加する](#breakpoints)

![Microsoft Edge DevTools デバッガー](./media/debugger.png)

デバッグセッションを開始するには、3つの方法があります。

1. **ブレークポイントを設定します。** コードの実行に到達すると、デバッガーが開始され、コードをステップ実行できるようになります。
2. **コードで中断を開始します。** [[**中断**](#toolbar)] (*一時停止*アイコン) ツールバーのボタンまたはをクリックし `Ctrl+Shift+B` ます。 デバッガーは、次の実行ステートメントで中断します。
3. **例外動作を設定します。** コードで例外がスローされたときにデバッガーを中断するには、[[**例外動作の変更**](#toolbar)] メニュー ( `Ctrl+Shift+E` ) を使います。 既定では、デバッガーは*例外に対して中断しない*ように設定されていますが、コンソールには記録されます。

## リソースピッカー

多くの場合、デバッグの最初の手順は、トラブルシューティングするコードにブレークポイントを設定することです。 [*リソースの選択*] ウィンドウから、現在ページに読み込まれているすべてのコードファイル ( *.html、.css* 、 *.js*など) を見つけることができます。

 ファイルエントリをクリックすると、そのファイルのタブが [[デバッグ] ウィンドウ](#debug-window)に表示され、ファイル名のテキストが太字で表示されます ( *devtools-guide*ファイル名は上記の図のようになります)。 次に、[デバッグウィンドウ](#debug-window)からそのファイル内にブレークポイントを設定します。

![デバッガリソースの選択](./media/debugger_resource_picker.png)

*リソースピッカー*のコンテキストメニューから、ファイルを**ライブラリコード**() としてマークすることもでき `Ctrl+L` ます。この[コードをデバッガーでスキップ](#debug-window)して、 [[**呼び出し履歴**] ウィンドウから非表示](#call-stack)にするオプションを提供します。 [(または)] をもう一度クリックすると `Ctrl+L` 、ファイルが元の値に*マイコード*または*ライブラリコード*として再び切り替えられます。

### ファイル検索

*Find in files* `Ctrl` + `Shift` + `F` ソースで検索しようとしている特定のコードの文字列がある場合は、[ファイル内を検索] コマンドを使用します。 ツールバーには、正規表現などのさまざまな検索オプションが用意されています。 検索結果をクリックすると、指定したファイルと行に*デバッグウィンドウ*がフォーカスされます。

![デバッガファイルの検索ウィンドウ](./media/debugger_file_search.png)

## デバッグウィンドウ

*デバッグウィンドウ*では、デバッグ時にブレークポイント、ステップ間のコード、アクティブなスクリプトの編集を設定することができます。 任意のスクリプトコマンドの左側をクリックして、**ブレークポイント**を追加 (または削除) します。 右クリックのコンテキストメニューまたは [[**ブレークポイント**](#breakpoints)] ウィンドウを使って、その場所で*True*が評価された場合にデバッガーを中断させる論理式を指定して、ブレークポイントに*条件を追加*します。

![デバッグウィンドウのコマンド](./media/debugger_window.png)

デバッグウィンドウのその他の機能には、次のコントロールがあります。

### 1. コードの編集

デバッグセッション中に JavaScript live を編集できます。 変更が完了したら、[ <strong> 保存] () をクリックして、 </strong> `Ctrl+S` 次回のコードセクションの実行時に変更をテストします。 コードの変更を保存していない場合は、[*デバッグウィンドウ*] タブのファイル名の前にアスタリスク (\ *) が表示されます。

[**元の文書と比較**する] ボタンをクリックして、変更した内容の相違点を表示します。

![デバッガーでの編集されたコードの差分表示](./media/debugger_edit_code.png)

以下の制約に注意してください。

- スクリプト編集は、外部の *.js*ファイルでのみ機能します (.html 内に埋め込まれているわけではありません `<script>` ) *。*
- 編集はメモリに保存され、ドキュメントの再読み込み時にフラッシュされるため、たとえば、ハンドラー内で編集を実行することはできません。 `DOMContentLoaded`
- 現時点では、DevTools からディスクへの編集を保存する方法はありません ([**名前を付けて保存**] オプションなど)。

### 2. コードの書式設定

以下のコントロールを使用して、表示形式を設定して、デバッグ時の読みやすさを向上させることができます。

#### 見栄えの良い印刷 ( `Ctrl+Shift+P` ) 
JavaScript の規則に従って、改行と中かっこの配置を追加します。 このオプションで読みやすくなった圧縮されたコードでも、元のソースコードとは大幅に異なる関数、セレクター、変数名が含まれている可能性があります。 このような場合、[[*ソースマップの切り替え*](#source-maps)] オプションを使用できる場合があります。

#### ワードラップ ( `Alt+W` )
デバッグウィンドウの現在の余白内に収まるようにコードを調整します (水平方向にスクロールする必要がありません)。

### 3. コードのスコープ

[ **Library としてマークを付ける**] () ボタンを使用して、特定のファイルを無視するようにデバッガーを設定することができ `Ctrl+L` ます。 既定では、 [**[マイコードのみをデバッグ**](#toolbar)] ツールバーボタンがオンになっています。つまり、*ライブラリコード*としてマークしたファイルはデバッガーでスキップされ、デバッガーの[呼び出しスタック](#call-stack)には表示されません。 ボタンを押し下げ (**[my code] としてマーク**する `Ctrl+L` )、このフラグを削除します。

デバッグセッションでライブラリを追跡するために、これらのファイルを編集して既定のリストを保持したり、ドメインまたはファイルの種類に対してワイルドカードを追加したりできます。

```JavaScript
%APPDATA%\..\LocalLow\Microsoft\F12\header\MyCode.json and %APPDATA%\..\Local\Microsoft\F12\header\MyCode.json
```

#### ソースマップ

JavaScript または CSS にコンパイルされている言語で記述されたコードに対して [ソースマップの**切り替え**] ボタンが有効になり、*ソースマップ*(元のソースへの中間ファイルのマッピング) が提供されます。 このオプションを使うと、デバッガーは、デバッグに使用する元のソース (*実際*にはブラウザーで実行されているコンパイル済みのファイルではなく) を表示します。

DevTools は、JavaScript ファイルを生成したコンパイラにマップファイルの名前のコメントが含まれているかどうかを確認します。 たとえば、コンパイラで圧縮された*myfile.js*を*myfile.min.js*する場合、マップファイルmyfile.min.js 生成されることもあり*ます。* これには、次のように圧縮ファイルにコメントを追加します。

```JavaScript
//# sourceMappingURL=myfile.min.js.map
```

![[デバッグファイル] タブのコンテキストメニュー](./media/debug_file_contextmenu.png)

DevTools で自動的にマップが見つからない場合は、そのファイルのソースマップを選ぶことができます。 ファイルのタブを右クリックして、[**ソースマップの選択**] オプションを探します。 

## ツール バー

デバッガーの*ツールバー*を使用して、コードの手順を制御したり、ステップごとまたは無視するコードを制御したりします。 ここでは、コードファイル全体で特定の文字列を検索することもできます。

![デバッガツールバー](./media/debugger_toolbar.png)

### 1. 続行 ( `F5` )/区切り ( `Ctrl+Shift+B` )
 **Continue** ( `F5` ) では、コードの実行が次のブレークポイントまで継続されます。 `F5`ボタンを押すと、過去の中断が繰り返し移動します。 

 **Break** ( `Ctrl+Shift+B` ) は、次のステートメントを実行した後でデバッガーに中断します。

### 2. 手順関数 ( `F11` , `Ctrl+F10` , `Shift+F11` )
 **Step into** `F11` 呼び出される関数のステップイン () を実行します。 

 **Step over** `Ctrl+F10` 呼び出される関数のステップオーバー () ステップを実行します。 

 **手順 out** ( `Shift+F11` ) は、現在の関数と呼び出し元の関数の手順を説明します。 

 これらのコマンドが使用されているときに関数がない場合、デバッガーは次のステートメントに進みます。

### 3. 新しい worker () で休憩 `Ctrl+Shift+W`
 新しい[web ワーカー](https://developer.mozilla.org/docs/Web/API/Web_Workers_API/Using_web_workers)の作成を中断します。

### 4. 例外制御
**例外動作の変更**( `Ctrl+Shift+E` ) デバッガーが例外にどのように反応するかを変更するオプションが表示されます。 既定では、例外はデバッガーによって無視され、[**コンソール**](./console.md)に記録されます。 *すべての例外に対して中断*するか、コード内のステートメントで処理されていないものだけを選択する (処理されない `try...catch` *例外で中断*) ことができます。

### 5. 検索結果を表示する
(現在は無効です。)[**結果の表示/非表示]** [*[ファイル*](#6-find-in-files-ctrlf)の検索] の検索結果の表示を切り替えます。

### 6. ファイル内で検索 ( `Ctrl+F` )
 **[ファイル内を検索**] ( `Ctrl+F` )[*リソースピッカー*](#resource-picker)内で読み込まれたすべてのファイルを使用して、テキスト検索を実行します。 テキストが見つかると、検索文字列に一致する最初のファイルが開かれます。 を押す `Enter` か `F3` 、次の検索結果に移動します。

### 7. 自分のコードのみをデバッグする ( `Ctrl+J` )
 **[マイコードのみをデバッグ**] ( `Ctrl+J` ) は、デバッガーの手順に従って、[ライブラリコード](#3-code-scoping)としてマークされているすべてのファイルを含めたり除外したりするためのトグルとして機能します。

### 8. デバッガー接続
**切断/接続デバッガー**は、基本的にはデバッガーのオン/オフスイッチです。

## 式

[**ウォッチ**] ウィンドウを使って、ローカルとグローバルの両方のスコープにあるすべてのオブジェクトと変数 (**ローカル**) のカタログを参照し、デバッガーで現在の中断の対象となるステートメントで利用できるようにします。

![ウォッチウィンドウ](./media/debugger_watches.png)

ウォッチ (**ウォッチ式の追加**) を追加して、 `Ctrl+W` 編集可能な値をダブルクリックするか、*コンテキストメニュー*から [**値の編集**] を選ぶことで、特定の変数の値を追跡できます。 [**削除**] ( `Ctrl+D` )/[**すべて削除**] ボタンを使用するか、コンテキストメニューからウォッチを消去します。 

## 詳細

*詳細*ウィンドウには、[[**呼び出し履歴**](#call-stack)]、[[**ブレーク**](#breakpoints)ポイント]、[ [**DOM ブレークポイント**](#dom-breakpoints)] の各タブが含まれます。

### 通話スタック

[**通話スタック**] タブには、現在の実行時点に到達した関数のチェーンが表示されます。 現在の関数が一番上に表示され、呼び出し関数は逆の順序で下に表示されます。

![呼び出し履歴ウィンドウ](./media/debugger_callstack.png)

[ **Library フレームの表示/非表示**] ボタン () は、 `Ctrl+Shift+J` コールスタックからの[ライブラリコード](#3-code-scoping)の出力を切り替えます。 右クリックのコンテキストメニューの**ライブラリコード**オプション () を使用して、選択した `Ctrl+L` フレームのソースをライブラリコードとしてマーク (またはアンマーク) することができます。 *Context menu* 

[**非同期フレームの表示/非**表示] ボタンをクリックすると、非同期関数の呼び出しのルートの表示が切り替わります。

### ブレークポイント

[**ブレークポイント**] タブから、条件の設定、条件の設定、無効化、削除などのブレークポイントとイベントのトレースポイントを管理できます。

![[ブレークポイント] タブ](./media/debugger_breakpoints.png)

ここでは、デバッグに使用できるさまざまな種類のブレークポイントの概要を示します。

ブレークポイントの種類 | 説明 | 設定方法
:------------ | :------------ | :--------
**まで** | 指定したコード行が実行される直前に、デバッガーを中断します。 1行に1つのステートメントがある場合は、通常のブレークポイントを設定するのが最も簡単です。 | [デバッグウィンドウ](#debug-window)で、コードの任意の行番号の横にある左余白をクリックします。 赤い点が表示され、ブレークポイントが設定されます。 青色のテキストをクリックすると、任意のブレークポイントのソースにジャンプできます。
**条件付きブレークポイント** | 指定した条件が*true*と評価された場合は、中断します。 これは、 `if(condition)` デバッガーに分割するための基本的な方法です。  | [[ブレークポイント](#breakpoints)] タブで、既存のブレークポイントの上にマウスポインターを置き、[鉛筆] をクリックします (*このブレークポイントに条件を追加*します)。既存のブレークポイントを右クリックして、コンテキストメニューから [条件] を選び**ます**。 ブレークポイントの場所で評価する "if" 条件を指定します。 
**XMLHttpRequest ブレークポイント**(オプションの条件付き) | XMLHttpRequest (XHR) 要求が処理されるたびに中断します。 XHR `response` オブジェクトは[**ウォッチ**](#watches)ウィンドウから調べることができます。 | [[ブレークポイント](#breakpoints)] タブで、[ *XMLHttpRequest ブレークポイント*] をクリックします (上向き/下向き矢印の付いた丸)。 上で説明したように、*条件付きブレークポイント*に切り替えることができます。
**イベントトレースポイント** | [`console.log()`](./console/console-api.md#logging-custom-messages)特定のイベントに応答して、指定された文字列を使って呼び出します。 これは、イベントハンドラーコードに直接保存しない一時的なコンソールのログ記録ステートメントに使用します。 | [[ブレークポイント](#breakpoints)] タブで、[*イベントトレースポイント*] (ひし形が稲妻の菱形) をクリックします。 トリガーの**イベント**の種類とログの**トレース**ステートメントを選びます。
**イベントのブレークポイント**(オプションの条件付き) | 指定されたイベントが発生するたびに中断します。 | [[ブレークポイント](#breakpoints)] タブで、[*イベントブレークポイント*] ボタン (稲妻のマーク付き円) をクリックします。 トリガーの**イベント**の種類を選び、必要に応じて**条件**ステートメントを指定します。 
**DOM ブレークポイント** | サブツリーが変更された場合、その属性が変更された場合、または DOM からデタッチされた場合など、ページで指定した要素が変更されるたびに中断します。 | [[要素](./elements/dom-breakpoints.md)] タブで、ソース要素を右クリックし、[ *DOM ブレーク*ダウン] オプションから選択します。 *デバッガー*または*要素*パネルの [ [**DOM ブレークポイント**](#dom-breakpoints)] タブを使って、ブレークポイントを管理します。 

条件付きブレークポイントとトレースポイントは、デバッガーに侵入したときにスコープ内にあるすべてのローカル変数とグローバル変数にアクセスできます。

### DOM ブレークポイント

Dom の変異のブレークポイントを、無効化、削除、再バインドなどの**dom [ブレークポイント**] タブから管理します。  [DOM ブレークポイント](./elements/dom-breakpoints.md)は、[**要素**] パネルの*HTML ツリービュー*から設定できます。

![[DOM ブレークポイント] タブ](./media/debugger_dom_breakpoints.png)

**デバッガー**の [ *dom ブレークポイント*] タブには、[**要素**] パネルの [ *dom ブレークポイント*] タブと同等の機能が用意されています。

ここでは、さまざまな種類の[DOM ブレークポイント](./elements/dom-breakpoints.md)について説明します。

## ショートカット

### ツールバーのショートカット

操作 | ショートカット
:------------ | :-------------
検索 | `Ctrl` + `F`
続行 (ブレークポイントから) | `F5` または `F8`
クイック続行 | 保留 `F5` または `F8`
続行して更新する | `Ctrl` + `Shift` + `F5`
開拓 | `Ctrl` + `Shift` + `B`
手順 | `F11`
ステップオーバー | `F10`
ステップアウト | `Shift` + `F11`
新しい作業者による休憩 | `Ctrl` + `Shift` + `W`
例外動作を変更する (メニューを開く) | `Ctrl` + `Shift` + `E`
マイコードのみをデバッグする | `Ctrl` + `J`

### リソース選択のショートカット

操作 | ショートカット
:------------ | :-------------
自分のコード/ライブラリコードとしてマークする | `Ctrl` + `L`
ファイルを開く | `Ctrl` + `O`, `Ctrl` + `P`
すべてのファイルを検索する | `Ctrl` + `Shift` + `F`

### デバッグウィンドウのショートカット

操作 | ショートカット
:------------ | :-------------
ブレークポイントを削除する | `F9`
ブレークポイントを無効にする | `Ctrl` + `F9`
条件付きブレークポイント... | `Alt` + `F9`
コピー | `Ctrl` + `C`
Save | `Ctrl` + `S`
行に移動... | `Ctrl` + `G`
次のステートメントを表示する | `Alt` + `Num` + `*`
カーソルの実行 | `Ctrl` + `F10`
次のステートメントを設定する | `Ctrl` + `Shift` + `F10`
ファイルピッカーに表示 | `Ctrl` + `Alt` + `P`
ファイルの定義に移動する | `Ctrl`+`D`
ファイルで参照を検索する | `Ctrl` + `Shift` + `D`
きれいに印刷 | `Ctrl` + `Shift` + `P`
ワードラップ | `Alt` + `W`
自分のコード/ライブラリコードとしてマークする | `Ctrl` + `L`
エディターでタブを有効または無効にします。 **注:** キーボードを使ってデバッガー内を移動している場合は、tab キーを使用してタブ表示を無効にすることはできません。 | `Ctrl` + `M`

### ウォッチウィンドウのショートカット

操作 | ショートカット
:------------ | :-------------
ウォッチ式の追加 | `Ctrl` + `W`
ウォッチ式の削除 | `Ctrl` + `D`

### 詳細ウィンドウのショートカット

| 操作                             | ショートカット                 |
|:-----------------------------------|:-------------------------|
| ライブラリコードからフレームを表示/非表示にする | `Ctrl` + `Shift` + `J`   |
| すべてのブレークポイントを有効にする             | `Ctrl` + `Shift` + `F11` |
