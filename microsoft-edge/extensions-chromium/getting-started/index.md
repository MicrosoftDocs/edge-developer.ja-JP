---
description: クロム拡張機能と拡張機能を構築するための主要な概念について説明します。
title: Microsoft Edge (クロム) 拡張機能の概念とアーキテクチャ
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 01/07/2021
ms.topic: conceptual
ms.prod: microsoft-edge
keywords: edge-chromium, Web 開発, html, css, javascript, developer, extensions
ms.openlocfilehash: 05732287bc1a782ed5830d5e7028cf5580f3b605
ms.sourcegitcommit: 6cf12643e9959873f8b5d785fd6158eeab74f424
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2021
ms.locfileid: "11397925"
---
# <a name="extension-concepts-and-architecture"></a><span data-ttu-id="37af5-104">拡張機能の概念とアーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="37af5-104">Extension concepts and architecture</span></span>  

<span data-ttu-id="37af5-105">この記事では、拡張機能の構築に役立つ概念について簡単に説明します。</span><span class="sxs-lookup"><span data-stu-id="37af5-105">This article provides a brief introduction to concepts that help you build an extension.</span></span>  <span data-ttu-id="37af5-106">Microsoft Edge \(Chromium\) 拡張機能を理解するには、マルチタブ ブラウザーの動作について説明します。</span><span class="sxs-lookup"><span data-stu-id="37af5-106">To understand Microsoft Edge \(Chromium\) extensions, follow along to understand how multi-tab browsers work.</span></span>  

## <a name="understand-how-browsers-work"></a><span data-ttu-id="37af5-107">ブラウザーの動作を理解する</span><span class="sxs-lookup"><span data-stu-id="37af5-107">Understand how browsers work</span></span>  

<span data-ttu-id="37af5-108">次の一覧では、拡張機能を構築する前に理解するために役立つ情報の概要を示します。</span><span class="sxs-lookup"><span data-stu-id="37af5-108">The following list outlines helpful information to understand before building your extension.</span></span>  

1.  <span data-ttu-id="37af5-109">各ブラウザー タブは、他のすべてのタブから分離されます。 各タブは別のスレッドで実行され、他のブラウザーのタブやスレッドから分離されます。</span><span class="sxs-lookup"><span data-stu-id="37af5-109">Each browser tab is isolated from every other tab.  Each tab runs in a separate thread that is isolated from other browser tabs and threads.</span></span>  
    
    :::image type="complex" source="./media/index-image1-browsertabs.png" alt-text="ブラウザータブごとに 1 つのスレッド" lightbox="./media/index-image1-browsertabs.png":::
       <span data-ttu-id="37af5-111">ブラウザータブごとに 1 つのスレッド</span><span class="sxs-lookup"><span data-stu-id="37af5-111">One thread per browser tab</span></span>  
    :::image-end:::  
    
1.  <span data-ttu-id="37af5-112">各タブは、1 つの GET 要求を処理します。</span><span class="sxs-lookup"><span data-stu-id="37af5-112">Each tab handles one GET request.</span></span>  <span data-ttu-id="37af5-113">各タブでは、URL を使用して 1 つのデータ ストリームを取得します。通常は HTML ドキュメントです。</span><span class="sxs-lookup"><span data-stu-id="37af5-113">Each tab uses a URL to get a single stream of data, which is normally an HTML document.</span></span>  <span data-ttu-id="37af5-114">その単一のストリームまたはページには、タグ、画像参照、CSS 参照など、JavaScript などの命令が含まれます。</span><span class="sxs-lookup"><span data-stu-id="37af5-114">That single stream or page, includes instructions like JavaScript include tags, image references, CSS references, and more.</span></span>  <span data-ttu-id="37af5-115">すべてのリソースは、その 1 つのタブ ページにダウンロードされ、そのページがタブに表示されます。</span><span class="sxs-lookup"><span data-stu-id="37af5-115">All resources are downloaded to that one tab page, and then the page is rendered in the tab.</span></span>  
1.  <span data-ttu-id="37af5-116">各タブとリモート サーバーの間で通信が行われます。</span><span class="sxs-lookup"><span data-stu-id="37af5-116">Communication occurs between each tab and a remote server.</span></span>  <span data-ttu-id="37af5-117">各タブは、分離された環境で実行されます。</span><span class="sxs-lookup"><span data-stu-id="37af5-117">Each tab runs in an isolated environment.</span></span>  <span data-ttu-id="37af5-118">各タブは引き続きインターネットに接続されますが、それぞれが他のタブから分離されています。</span><span class="sxs-lookup"><span data-stu-id="37af5-118">Each tab is still connected to the internet, but each is isolated from other tabs.</span></span>  <span data-ttu-id="37af5-119">タブが JavaScript を実行してサーバーと通信する場合があります。</span><span class="sxs-lookup"><span data-stu-id="37af5-119">A tab may run JavaScript to communicate with a server.</span></span>  <span data-ttu-id="37af5-120">サーバーは、タブの URL バーに入力された最初の GET 要求の発信元サーバーです。</span><span class="sxs-lookup"><span data-stu-id="37af5-120">The server is the originating server for the first GET request that was entered into the URL bar of the tab.</span></span>  
1.  <span data-ttu-id="37af5-121">拡張モデルでは、別の通信モデルを使用します。</span><span class="sxs-lookup"><span data-stu-id="37af5-121">The extension model uses a different communication model.</span></span>  <span data-ttu-id="37af5-122">タブ ページと同様に、拡張機能は、他のタブ ページ スレッドから分離された個々のスレッドで実行されます。</span><span class="sxs-lookup"><span data-stu-id="37af5-122">Similar to a tab page, an extension runs in an individual thread that is isolated from other tab page threads.</span></span>  <span data-ttu-id="37af5-123">タブは、単一の GET 要求をリモート サーバーに送信し、ページをレンダリングします。</span><span class="sxs-lookup"><span data-stu-id="37af5-123">A tab sends single GET requests to remote servers, and then renders the page.</span></span>  <span data-ttu-id="37af5-124">ただし、拡張機能はリモート サーバーと同様に動作します。</span><span class="sxs-lookup"><span data-stu-id="37af5-124">However, an extension works similar to a remote server.</span></span>  <span data-ttu-id="37af5-125">ブラウザーに拡張機能をインストールすると、ブラウザーにスタンドアロン Web サーバーが作成されます。</span><span class="sxs-lookup"><span data-stu-id="37af5-125">Installing an extension in a browser creates a standalone web server in the browser.</span></span>  <span data-ttu-id="37af5-126">拡張機能は、すべてのタブ ページから分離されています。</span><span class="sxs-lookup"><span data-stu-id="37af5-126">The extension is isolated from all tab pages.</span></span>  
    
    :::image type="complex" source="./media/index-image3-upsidedown.png" alt-text="拡張機能は別の通信モデルを使用します" lightbox="./media/index-image3-upsidedown.png":::
       <span data-ttu-id="37af5-128">拡張機能は別の通信モデルを使用します</span><span class="sxs-lookup"><span data-stu-id="37af5-128">Extensions use a different communication model</span></span>  
    :::image-end:::  
    
## <a name="extension-architecture"></a><span data-ttu-id="37af5-129">拡張機能のアーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="37af5-129">Extension architecture</span></span>  

<span data-ttu-id="37af5-130">次の一覧では、拡張機能のアーキテクチャに関連する有用な情報の概要を示します。</span><span class="sxs-lookup"><span data-stu-id="37af5-130">The following list outlines helpful information as it relates to the architecture of an extension.</span></span>  

1.  <span data-ttu-id="37af5-131">拡張機能 Web サーバー バンドル。</span><span class="sxs-lookup"><span data-stu-id="37af5-131">The Extension web server bundle.</span></span>  <span data-ttu-id="37af5-132">拡張機能は、Web リソースのバンドルです。</span><span class="sxs-lookup"><span data-stu-id="37af5-132">An extension is a bundle of web resources.</span></span>  <span data-ttu-id="37af5-133">Web リソースは、\(web developer\) が Web サーバーに発行する他のリソースと似ています。</span><span class="sxs-lookup"><span data-stu-id="37af5-133">The web resources are similar to other resources that you \(the web developer\) publish to web servers.</span></span>  <span data-ttu-id="37af5-134">拡張機能を作成するときに、Web リソースを zip ファイルにバンドルします。</span><span class="sxs-lookup"><span data-stu-id="37af5-134">You bundle the web resources into a zip file when building an extension.</span></span>  
    
    <span data-ttu-id="37af5-135">zip ファイルには、HTML、CSS、JavaScript、およびイメージ ファイルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="37af5-135">The zip file includes HTML, CSS, JavaScript, and image files.</span></span>  <span data-ttu-id="37af5-136">zip ファイルのルートにもう 1 つのファイルが必要です。</span><span class="sxs-lookup"><span data-stu-id="37af5-136">One more file is required in the root of the zip file.</span></span>  <span data-ttu-id="37af5-137">もう 1 つのファイルは、という名前のマニフェスト ファイルです `manifest.json` 。</span><span class="sxs-lookup"><span data-stu-id="37af5-137">The other file is the manifest file that is named `manifest.json`.</span></span>  <span data-ttu-id="37af5-138">マニフェスト ファイルは拡張機能のブループリントであり、拡張機能のバージョン、タイトル、拡張機能の実行に必要なアクセス許可などです。</span><span class="sxs-lookup"><span data-stu-id="37af5-138">The manifest file is the blueprint of your extension and includes the version of your extension, the title, permissions needed for the extension to run, and so on.</span></span>  
    
1.  <span data-ttu-id="37af5-139">拡張機能サーバーを起動します。</span><span class="sxs-lookup"><span data-stu-id="37af5-139">Launching the extension server.</span></span>  <span data-ttu-id="37af5-140">Web サーバーには、Web バンドルが含まれています。</span><span class="sxs-lookup"><span data-stu-id="37af5-140">Web servers contain your web bundle.</span></span>  <span data-ttu-id="37af5-141">ブラウザーはサーバー上の URL に移動し、ブラウザーでレンダリングするファイルをダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="37af5-141">A browser navigates to URLs on the server, and downloads the file to render in the browser.</span></span>  <span data-ttu-id="37af5-142">ブラウザーは、証明書、構成ファイルを使用して移動します。</span><span class="sxs-lookup"><span data-stu-id="37af5-142">A browser navigates using certificates, configuration files, and so on.</span></span>  <span data-ttu-id="37af5-143">ファイルを `index.html` 指定すると、ファイルは Web サーバー上の特別な場所に保存されます。</span><span class="sxs-lookup"><span data-stu-id="37af5-143">If an `index.html` file is specified, the file is stored at a special location on the web server.</span></span>  
    
    <span data-ttu-id="37af5-144">拡張機能を使用すると、ブラウザーのタブ ページが拡張機能ランタイムを使用して拡張機能の Web バンドルに移動します。</span><span class="sxs-lookup"><span data-stu-id="37af5-144">When you use an extension, the tab page of your browser gets to the web bundle of your extension using the extension runtime.</span></span>  <span data-ttu-id="37af5-145">拡張ランタイムは、インストール時に拡張機能に割り当てられた一意の識別子である URL の `extension://{some-long-unique-identifier}/index.html` `{some-long-unique-identifier}` ファイルを提供します。</span><span class="sxs-lookup"><span data-stu-id="37af5-145">The extension runtime serves the files from the URL `extension://{some-long-unique-identifier}/index.html`, where `{some-long-unique-identifier}` is a unique identifier assigned to the extension when during installation.</span></span>  <span data-ttu-id="37af5-146">各拡張機能は、異なる一意の識別子を使用します。</span><span class="sxs-lookup"><span data-stu-id="37af5-146">Each extension uses a different unique identifier.</span></span>  <span data-ttu-id="37af5-147">各識別子は、ブラウザーにインストールされている Web バンドルを示しています。</span><span class="sxs-lookup"><span data-stu-id="37af5-147">Each identifier points to the web bundle that is installed in your browser.</span></span>  
    
1.  <span data-ttu-id="37af5-148">拡張機能は、タブやブラウザー のツール バーと通信する場合があります。</span><span class="sxs-lookup"><span data-stu-id="37af5-148">An extension may communicate with tabs and the browser toolbar.</span></span>  <span data-ttu-id="37af5-149">拡張機能がブラウザーのツール バーと対話する場合があります。</span><span class="sxs-lookup"><span data-stu-id="37af5-149">An extension may interact with the toolbar of your browser.</span></span>  <span data-ttu-id="37af5-150">各拡張機能は、個別のスレッドで実行中のタブ ページを管理し、各タブ ページでの DOM 操作は分離されます。</span><span class="sxs-lookup"><span data-stu-id="37af5-150">Each extension manages running tab pages in separate threads, and DOM manipulation on each tab page is isolated.</span></span>  <span data-ttu-id="37af5-151">拡張機能は拡張機能 API を使用して拡張機能とタブ ページの間で通信します。</span><span class="sxs-lookup"><span data-stu-id="37af5-151">An extension uses the extensions API to communicate between the extension and tab pages.</span></span>  <span data-ttu-id="37af5-152">拡張機能 API には、通知管理、ストレージ管理などの追加機能が用意されています。</span><span class="sxs-lookup"><span data-stu-id="37af5-152">The extensions API provides extra capabilities that include notification management, storage management, and so on.</span></span>  
    
    <span data-ttu-id="37af5-153">Web サーバーと同様に、拡張機能はブラウザーが開いているときに通知を待機します。</span><span class="sxs-lookup"><span data-stu-id="37af5-153">Just like web servers, an extension waits for notifications when the browser is open.</span></span>  <span data-ttu-id="37af5-154">拡張ページとタブ ページは、互いに分離されたスレッドで実行されます。</span><span class="sxs-lookup"><span data-stu-id="37af5-154">An extension and tab pages run in threads that are isolated from each other.</span></span>  <span data-ttu-id="37af5-155">拡張機能が任意のタブ ページで動作するようにするには、拡張機能 API を使用し、マニフェスト ファイルでアクセス許可を設定します。</span><span class="sxs-lookup"><span data-stu-id="37af5-155">To allow an extension to work with any tab page, use the extensions API and set the permissions in the manifest file.</span></span>  
    
1.  <span data-ttu-id="37af5-156">拡張機能は、インストール時にオプトインのアクセス許可を提供します。</span><span class="sxs-lookup"><span data-stu-id="37af5-156">An extension provides opt-in permissions at install time.</span></span>  <span data-ttu-id="37af5-157">ファイルで拡張機能のアクセス許可を指定 `manifest.json` します。</span><span class="sxs-lookup"><span data-stu-id="37af5-157">You specify the extension permissions in the `manifest.json` file.</span></span>  <span data-ttu-id="37af5-158">ユーザーが拡張機能をインストールすると、拡張機能に必要なアクセス許可に関する情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="37af5-158">When a user installs an extension, information about the permissions that the extension requires is displayed.</span></span>  <span data-ttu-id="37af5-159">必要なアクセス許可の種類に基づいて、拡張機能はブラウザーから情報を抽出して使用する場合があります。</span><span class="sxs-lookup"><span data-stu-id="37af5-159">Based on the type of permission required, the extension may extract and use information from the browser.</span></span>  
    
## <a name="next-steps"></a><span data-ttu-id="37af5-160">次の手順</span><span class="sxs-lookup"><span data-stu-id="37af5-160">Next steps</span></span>  

<span data-ttu-id="37af5-161">拡張機能の使用を開始する方法については、「拡張機能チュートリアルを作成 [する」に移動します][CreateAnExtensionPart1]。</span><span class="sxs-lookup"><span data-stu-id="37af5-161">For information on getting started with your extension, navigate to [Create an extension tutorial][CreateAnExtensionPart1].</span></span>  

<!-- links -->  

[CreateAnExtensionPart1]: ./part1-simple-extension.md "拡張機能のチュートリアルを作成する - パート 1 |Microsoft Docs"  
