---
description: Chromium の拡張機能と、拡張機能を構築するための基本的な概念について説明します。
title: Microsoft Edge (Chromium) Extensions の概念とアーキテクチャ
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 10/01/2020
ms.topic: conceptual
ms.prod: microsoft-edge
keywords: edge-chromium、web 開発、html、css、javascript、開発者、拡張機能
ms.openlocfilehash: 8ffdd19e1a1e36a4d10fdd80bd7dd5654d543527
ms.sourcegitcommit: 845a0d53a86bee3678f421adee26b3372cefce57
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/08/2020
ms.locfileid: "11104729"
---
# 拡張機能の概念とアーキテクチャ

この記事では、拡張機能を構築するときに役立つ概念について簡単に説明します。 Microsoft Edge \ (Chromium \) の拡張機能を理解するために、まず、複数のタブがあるブラウザーのしくみについて説明します。


## ブラウザーの動作を理解する

次のリストは、拡張機能を構築する前に理解しておくと便利な情報をまとめたものです。

1.  各ブラウザータブは、他のすべてのタブから分離されます。 各タブは、他のブラウザーのタブやスレッドから分離された独自のスレッドで実行されます。

    ![[ブラウザー] タブごとに1つのスレッド](media/index-image1-browsertabs.png)  

2.  各タブは1つの GET 要求を処理します。  各タブは URL を使用して1つのデータストリームを取得します。これは通常、HTML ドキュメントです。  この単一のストリームまたはページには、JavaScript にはタグ、画像参照、CSS 参照などの命令が含まれています。  すべてのリソースが1つのタブページにダウンロードされ、ページがタブに表示されます。  

3.  各タブとリモートサーバー間で通信が行われます。  各タブは、分離環境で実行されます。 インターネットに接続されていますが、他のタブから分離されています。  タブでは、JavaScript を実行してサーバーと通信することができます。 これらのサーバーは、タブの URL バーに入力された最初の GET 要求の送信元サーバーです。  

4.  拡張モデルでは、別の通信モデルが使用されます。  タブページと同様に、拡張機能は、すべてのタブページのスレッドから分離された個々のスレッドで実行されます。  タブでは、リモートサーバーに1つの GET 要求が発行されてから、ページがレンダリングされます。 ただし、extensions 関数はリモートサーバーに似ています。 ブラウザーに拡張機能をインストールすると、ブラウザーでスタンドアロンの web サーバーが作成されます。 拡張機能は、すべてのタブページから分離されます。  

    ![拡張機能で異なる通信モデルを使用する](media/index-image3-upsidedown.png)  

## 拡張機能のアーキテクチャ

次のリストは、拡張機能のアーキテクチャに関連する、役に立つ情報をまとめたものです。  

1.  拡張機能の web サーバーバンドル。  拡張機能は、web リソースのバンドルです。 これらの web リソースは、web 開発者が web サーバーに公開する他のリソースに似ています。 開発者は、拡張機能を構築するときに、これらの web リソースを zip ファイルにバンドルします。
    
    Zip ファイルには、HTML、CSS、JavaScript、およびイメージファイルが含まれています。  Zip ファイルのルートに必要な追加ファイルが1つあります。 このファイルはマニフェストファイルで、という名前が付けられ `manifest.json` ます。  これは拡張機能の青写真であり、拡張機能のバージョン、タイトル、実行するために必要なアクセス許可などが含まれます。

2.  拡張機能サーバーを起動しています。  Web サーバーには web バンドルが含まれています。 ブラウザーはサーバー上の Url に移動し、ブラウザーにレンダリングするためのファイルをダウンロードします。 ブラウザーは、証明書、構成ファイルなどを使用して移動します。  ファイルがある場合は `index.html` 、web サーバー上の特別な場所に保存されています。  

    拡張機能を使用すると、ブラウザーのタブページは、拡張ランタイムを使って拡張機能の web バンドルになります。  拡張ランタイムは、URL からのファイルを提供し `extension://{some-long-unique-identifier}/index.html` `{some-long-unique-identifier}` ます。ここでは、インストール時に拡張機能に割り当てられた一意の識別子を指定します。  各拡張機能には、異なる一意の識別子が使用されます。 各識別子は、ブラウザーにインストールされている web バンドルを指します。   

3.  拡張機能は、タブとブラウザーのツールバーと通信できます。   拡張機能は、ブラウザーのツールバーを操作できます。 各拡張機能は、実行されているタブページを別々のスレッドで管理します。各タブページの DOM 操作は分離されます。  拡張機能は、extensions API を使って、拡張機能とタブページの間で通信します。  この拡張 API には、通知管理、ストレージ管理などの追加機能が用意されています。  

    Web サーバーの場合と同様に、ブラウザーが開かれているときに、拡張機能によって通知が待機します。  拡張機能とタブページは、互いに分離されているスレッドで実行されます。 ただし、開発者は、extensions API、およびマニフェストファイルのアクセス許可を使って、すべてのタブページで拡張機能を使用できるようにすることができます。  

4. 拡張機能には、インストール時のオプトインアクセス許可が用意されています。  拡張子のアクセス許可は、ファイルの開発者によって指定され `manifest.json` ます。 拡張機能をインストールするときには、拡張機能の実行に必要なアクセス許可についての情報がユーザーに表示されます。 必要なアクセス許可の種類に基づいて、拡張機能によってブラウザーから情報が抽出されて使用されることがあります。


## 次のステップ

 拡張機能の概要については、「 [拡張チュートリアルを作成][CreateAnExtensionPart1]する」を参照してください。 



<!-- image links -->  

<!-- links -->  

[CreateAnExtensionPart1]: ./part1-simple-extension.md "拡張チュートリアルを作成する-パート 1 |Microsoft ドキュメント"  