---
description: クロム拡張機能と拡張機能を構築するための主要な概念について説明します。
title: Microsoft Edge (クロム) 拡張機能の概念とアーキテクチャ
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 01/07/2021
ms.topic: conceptual
ms.prod: microsoft-edge
keywords: edge-chromium, Web 開発, html, css, javascript, developer, extensions
ms.openlocfilehash: 05732287bc1a782ed5830d5e7028cf5580f3b605
ms.sourcegitcommit: 6cf12643e9959873f8b5d785fd6158eeab74f424
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2021
ms.locfileid: "11397925"
---
# <a name="extension-concepts-and-architecture"></a>拡張機能の概念とアーキテクチャ  

この記事では、拡張機能の構築に役立つ概念について簡単に説明します。  Microsoft Edge \(Chromium\) 拡張機能を理解するには、マルチタブ ブラウザーの動作について説明します。  

## <a name="understand-how-browsers-work"></a>ブラウザーの動作を理解する  

次の一覧では、拡張機能を構築する前に理解するために役立つ情報の概要を示します。  

1.  各ブラウザー タブは、他のすべてのタブから分離されます。 各タブは別のスレッドで実行され、他のブラウザーのタブやスレッドから分離されます。  
    
    :::image type="complex" source="./media/index-image1-browsertabs.png" alt-text="ブラウザータブごとに 1 つのスレッド" lightbox="./media/index-image1-browsertabs.png":::
       ブラウザータブごとに 1 つのスレッド  
    :::image-end:::  
    
1.  各タブは、1 つの GET 要求を処理します。  各タブでは、URL を使用して 1 つのデータ ストリームを取得します。通常は HTML ドキュメントです。  その単一のストリームまたはページには、タグ、画像参照、CSS 参照など、JavaScript などの命令が含まれます。  すべてのリソースは、その 1 つのタブ ページにダウンロードされ、そのページがタブに表示されます。  
1.  各タブとリモート サーバーの間で通信が行われます。  各タブは、分離された環境で実行されます。  各タブは引き続きインターネットに接続されますが、それぞれが他のタブから分離されています。  タブが JavaScript を実行してサーバーと通信する場合があります。  サーバーは、タブの URL バーに入力された最初の GET 要求の発信元サーバーです。  
1.  拡張モデルでは、別の通信モデルを使用します。  タブ ページと同様に、拡張機能は、他のタブ ページ スレッドから分離された個々のスレッドで実行されます。  タブは、単一の GET 要求をリモート サーバーに送信し、ページをレンダリングします。  ただし、拡張機能はリモート サーバーと同様に動作します。  ブラウザーに拡張機能をインストールすると、ブラウザーにスタンドアロン Web サーバーが作成されます。  拡張機能は、すべてのタブ ページから分離されています。  
    
    :::image type="complex" source="./media/index-image3-upsidedown.png" alt-text="拡張機能は別の通信モデルを使用します" lightbox="./media/index-image3-upsidedown.png":::
       拡張機能は別の通信モデルを使用します  
    :::image-end:::  
    
## <a name="extension-architecture"></a>拡張機能のアーキテクチャ  

次の一覧では、拡張機能のアーキテクチャに関連する有用な情報の概要を示します。  

1.  拡張機能 Web サーバー バンドル。  拡張機能は、Web リソースのバンドルです。  Web リソースは、\(web developer\) が Web サーバーに発行する他のリソースと似ています。  拡張機能を作成するときに、Web リソースを zip ファイルにバンドルします。  
    
    zip ファイルには、HTML、CSS、JavaScript、およびイメージ ファイルが含まれます。  zip ファイルのルートにもう 1 つのファイルが必要です。  もう 1 つのファイルは、という名前のマニフェスト ファイルです `manifest.json` 。  マニフェスト ファイルは拡張機能のブループリントであり、拡張機能のバージョン、タイトル、拡張機能の実行に必要なアクセス許可などです。  
    
1.  拡張機能サーバーを起動します。  Web サーバーには、Web バンドルが含まれています。  ブラウザーはサーバー上の URL に移動し、ブラウザーでレンダリングするファイルをダウンロードします。  ブラウザーは、証明書、構成ファイルを使用して移動します。  ファイルを `index.html` 指定すると、ファイルは Web サーバー上の特別な場所に保存されます。  
    
    拡張機能を使用すると、ブラウザーのタブ ページが拡張機能ランタイムを使用して拡張機能の Web バンドルに移動します。  拡張ランタイムは、インストール時に拡張機能に割り当てられた一意の識別子である URL の `extension://{some-long-unique-identifier}/index.html` `{some-long-unique-identifier}` ファイルを提供します。  各拡張機能は、異なる一意の識別子を使用します。  各識別子は、ブラウザーにインストールされている Web バンドルを示しています。  
    
1.  拡張機能は、タブやブラウザー のツール バーと通信する場合があります。  拡張機能がブラウザーのツール バーと対話する場合があります。  各拡張機能は、個別のスレッドで実行中のタブ ページを管理し、各タブ ページでの DOM 操作は分離されます。  拡張機能は拡張機能 API を使用して拡張機能とタブ ページの間で通信します。  拡張機能 API には、通知管理、ストレージ管理などの追加機能が用意されています。  
    
    Web サーバーと同様に、拡張機能はブラウザーが開いているときに通知を待機します。  拡張ページとタブ ページは、互いに分離されたスレッドで実行されます。  拡張機能が任意のタブ ページで動作するようにするには、拡張機能 API を使用し、マニフェスト ファイルでアクセス許可を設定します。  
    
1.  拡張機能は、インストール時にオプトインのアクセス許可を提供します。  ファイルで拡張機能のアクセス許可を指定 `manifest.json` します。  ユーザーが拡張機能をインストールすると、拡張機能に必要なアクセス許可に関する情報が表示されます。  必要なアクセス許可の種類に基づいて、拡張機能はブラウザーから情報を抽出して使用する場合があります。  
    
## <a name="next-steps"></a>次の手順  

拡張機能の使用を開始する方法については、「拡張機能チュートリアルを作成 [する」に移動します][CreateAnExtensionPart1]。  

<!-- links -->  

[CreateAnExtensionPart1]: ./part1-simple-extension.md "拡張機能のチュートリアルを作成する - パート 1 |Microsoft Docs"  
